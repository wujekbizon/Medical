<Window x:Class="Medical.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Medical.Views"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:materialIcons="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF"
        Title="Medical - System Zarządzania Medycznego"  Height="768" Width="1366"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto">
    
    <Window.Resources>
        <ResourceDictionary Source="MainWindowResources.xaml" />
    </Window.Resources>
    <materialDesign:DialogHost Identifier="RootDialog">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="260"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="44"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Menu Grid.Column="0" 
                  Grid.Row="0" 
                  Grid.ColumnSpan="2" 
                  Background="{DynamicResource DarkSurface}"
                  Foreground="{DynamicResource TextPrimary}"
                  Height="Auto">
                <MenuItem Header="_Plik" Foreground="{DynamicResource TextPrimary}">
                    <MenuItem Header="Nowy">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="FilePlus" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Otwórz">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="FolderOpen" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Ustawienia">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="Cog" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Wyjście">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="ExitToApp" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem Header="_Pacjenci" Foreground="{DynamicResource TextPrimary}">
                    <MenuItem Header="Wszyscy Pacjenci">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="AccountMultiple" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Nowy Pacjent">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="AccountPlus" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem Header="_Zespoły" Foreground="{DynamicResource TextPrimary}">
                    <MenuItem Header="Zespoły Ratunkowe">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="Ambulance" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Pracownicy">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="PeopleGroup" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem Header="Pomoc" Foreground="{DynamicResource TextPrimary}">
                    <MenuItem Header="Dokumentacja">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="BookOpen" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="O programie">
                        <MenuItem.Icon>
                            <materialIcons:MaterialIcon Kind="Information" Width="16" Height="16"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
            </Menu>

            <Border Grid.Column="0"
                    Grid.Row="1"
                    Grid.ColumnSpan="2"
                    Background="{DynamicResource DarkSurfaceVariant}"
                    BorderBrush="{DynamicResource BorderDark}"
                    BorderThickness="0,0,0,1"
                    Padding="6"
                    VerticalAlignment="Center"
                    >
                <StackPanel Orientation="Horizontal">
                    <Button Style="{DynamicResource MaterialDesignToolButton}"
                            ToolTip="Nowy rekord"
                            Margin="4,0"
                            BorderBrush="{DynamicResource DarkSurfaceVariant}"
                            >
                        <materialIcons:MaterialIcon Kind="FilePlus" Width="20" Height="20"/>
                    </Button>
                    <Button Style="{DynamicResource MaterialDesignToolButton}"
                            ToolTip="Odśwież"
                            Margin="0,0">
                        <materialIcons:MaterialIcon Kind="Refresh" Width="20" Height="20"/>
                    </Button>
                    <Separator Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}" Margin="0,0"/>
                    <Button Style="{DynamicResource MaterialDesignToolButton}"
                            ToolTip="Drukuj"
                            Margin="2">
                        <materialIcons:MaterialIcon Kind="Printer" Width="20" Height="20"/>
                    </Button>
                    <Button Style="{DynamicResource MaterialDesignToolButton}"
                            ToolTip="Eksport"
                            Margin="4,0">
                        <materialIcons:MaterialIcon Kind="Export" Width="20" Height="20"/>
                    </Button>
                    <Separator Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}" Margin="0,0"/>
                    <Button Style="{DynamicResource MaterialDesignToolButton}"
                            ToolTip="Wyszukaj"
                            Margin="4,0">
                        <materialIcons:MaterialIcon Kind="Magnify" Width="20" Height="20"/>
                    </Button>
                </StackPanel>
            </Border>
            <Border Grid.Column="0"
                    Grid.Row="2"
                    Background="{DynamicResource DarkSurface}"
                    BorderBrush="{DynamicResource BorderDark}"
                    BorderThickness="0,0,1,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <Border Grid.Row="0"
                            Background="{DynamicResource DarkSurfaceVariant}"
                            BorderBrush="{DynamicResource BorderDark}"
                            BorderThickness="0,0,0,1"
                            Padding="16">
                        <StackPanel>
                            <materialIcons:MaterialIcon
                                Kind="HospitalBox"
                                Width="48"
                                Height="48"
                                HorizontalAlignment="Center"
                                Foreground="{DynamicResource AccentPurple}"/>
                            <TextBlock Text="Medical System"
                                       FontSize="18"
                                       FontWeight="Bold"
                                       HorizontalAlignment="Center"
                                       Margin="0,8,0,0"
                                       Foreground="{DynamicResource TextPrimary}"/>
                            <TextBlock Text="v1.0"
                                       FontSize="11"
                                       HorizontalAlignment="Center"
                                       Foreground="{DynamicResource TextSecondary}"/>
                        </StackPanel>
                    </Border>
                    <ScrollViewer Grid.Row="1"
                                  VerticalScrollBarVisibility="Auto"
                                  Padding="8">
                        <StackPanel>
                            <ContentControl
                                Content="{Binding Path=Commands}"
                                ContentTemplate="{StaticResource CommandsTemplate}"/>
                        </StackPanel>
                    </ScrollViewer>
                    <Border Grid.Row="2"
                            Background="{DynamicResource DarkSurfaceVariant}"
                            BorderBrush="{DynamicResource BorderDark}"
                            BorderThickness="0,1,0,0"
                            Padding="12,8">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <materialIcons:MaterialIcon
                                Kind="Account"
                                Width="32"
                                Height="32"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                Foreground="{DynamicResource AccentBlue}"/>

                            <StackPanel Grid.Column="1"
                                        Margin="12,0,0,0"
                                        VerticalAlignment="Center">
                                <TextBlock Text="Grzegorz Wolfinger"
                                           FontSize="13"
                                           FontWeight="Medium"
                                           Foreground="{DynamicResource TextPrimary}"/>
                                <TextBlock Text="Wesa 2025"
                                           FontSize="11"
                                           Foreground="{DynamicResource TextSecondary}"/>
                            </StackPanel>
                        </Grid>
                    </Border>
                </Grid>
            </Border>
            <Grid Grid.Column="1"
                  Grid.Row="2"
                  Background="{DynamicResource DarkBackground}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Border Grid.Row="0"
                        Margin="8"
                        Background="{DynamicResource DarkSurface}"
                        BorderBrush="{DynamicResource BorderDark}"
                        BorderThickness="1"
                        CornerRadius="4">
                    <ContentControl
                        Content="{Binding Path=Workspaces}"
                        ContentTemplate="{StaticResource WorkspacesTemplate}"
                        Margin="0"/>
                </Border>
                <Border Grid.Row="1"
                        Background="{DynamicResource DarkSurface}"
                        BorderBrush="{DynamicResource BorderDark}"
                        BorderThickness="0,1,0,0"
                        Padding="16,6">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0"
                                    Orientation="Horizontal">
                            <materialIcons:MaterialIcon
                                Kind="CheckCircle"
                                Width="16"
                                Height="16"
                                Margin="0,0,8,0"
                                VerticalAlignment="Center"
                                Foreground="#4CAF50"/>
                            <TextBlock Text="Gotowy"
                                       FontSize="12"
                                       VerticalAlignment="Center"
                                       Foreground="{DynamicResource TextSecondary}"/>
                        </StackPanel>

                        <TextBlock Grid.Column="2"
                                   Text="{Binding Path=Workspaces.Count, StringFormat='Otwartych zakładek: {0}'}"
                                   FontSize="12"
                                   VerticalAlignment="Center"
                                   Foreground="{DynamicResource TextSecondary}"/>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </materialDesign:DialogHost>
</Window>
